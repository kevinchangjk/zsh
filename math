#! /bin/zsh 
function ttt() {
    [ "$1" ] && [ -z "${1//[0-9]}" ] && echo "is a number"
}
function h2() {
    cd $REPOS/n3
    [ "$1" ] && [ -z "${1//[0-9]}" ] && nvim $REPOS/n3/pages/ch$1.mdx && return
    case $1 in
        'c')
            nvim $REPOS/n3/public/style.css;;
        'a')
            nvim $REPOS/n3/pages/_app.js;;
        'p')
            cd $REPOS/n3/pages;;
        'd')
            nvim $REPOS/n3/pages/_document.js;;
        *);;
    esac
}
function write() {
    cd $REPOS/n3 && nvim pages/ch$1.mdx
}
alias nwrite="cd $REPOS/n3/pages && nvim meta.json ch*"
function ttikz() {
    time (tikz $1)
}
function tikz() {
    x=$1
    if [[ $x =~ ^[0-9]\.[0-9]*$ ]]; then
        x=$(find . -name $x*)
        x=${${x:2}%.*}
        echo working on $x ...
        cat packages.tex > output.tex
        cat $x.tex >> output.tex
        ./tikz2svg/tikz2svg output.tex > ../exports/$x.svg
        rm output.tex
        python3 update_dir.py
    elif [[ $x == *"tex" ]]; then
        x=${x%.*}
        echo working on $x ...
        cat packages.tex > output.tex
        cat $x.tex >> output.tex
        ./tikz2svg/tikz2svg output.tex > ../exports/$x.svg
        rm output.tex
        python3 update_dir.py
    fi
}
